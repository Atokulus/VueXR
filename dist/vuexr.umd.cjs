(function(U,f){typeof exports=="object"&&typeof module<"u"?f(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],f):(U=typeof globalThis<"u"?globalThis:U||self,f(U.VueXR={},U.Vue))})(this,function(U,f){"use strict";var Ze=Object.defineProperty;var Ne=(U,f,O)=>f in U?Ze(U,f,{enumerable:!0,configurable:!0,writable:!0,value:O}):U[f]=O;var F=(U,f,O)=>(Ne(U,typeof f!="symbol"?f+"":f,O),O);const O=A=>(f.pushScopeId("data-v-bf4ce744"),A=A(),f.popScopeId(),A),pA={class:"setup"},mA={key:0},gA={key:0},vA=f.createStaticVNode('<h2 class="title" data-v-bf4ce744>Camera Calibration</h2><p data-v-bf4ce744> To make VueXR know how to project virtual elements to the real world, we have to calibrate your camera first. </p><ol data-v-bf4ce744><li data-v-bf4ce744> Print or display this <a href="https://docs.opencv.org/master/pattern.png" target="_blank" data-v-bf4ce744>chessboard pattern</a> on another device. </li><li data-v-bf4ce744>Take a steady aim at the pattern with your camera.</li><li data-v-bf4ce744>Press the <strong data-v-bf4ce744>Capture</strong> button below.</li><li data-v-bf4ce744>Repeat for at least 4 other different perspectives.</li><li data-v-bf4ce744>Press the <b data-v-bf4ce744>Calibrate</b> button.</li></ol>',3),IA={style:{"margin-top":"20px","text-align":"center"}},BA={key:1},CA=O(()=>f.createElementVNode("h2",{class:"title"},"AR Setup",-1)),QA={class:"status-line"},wA=["title"],kA={key:1,class:"status-value"},bA=O(()=>f.createElementVNode("option",{disabled:"",value:""},"Please select a Camera",-1)),EA=["value"],MA={key:0},yA={key:1},FA=O(()=>f.createElementVNode("hr",null,null,-1)),DA={class:"status-line"},RA=["title"],VA={key:1,class:"status-value"},SA=O(()=>f.createElementVNode("hr",null,null,-1)),XA={class:"status-line"},KA=["title"],UA={key:1,class:"status-value"},zA=O(()=>f.createElementVNode("hr",null,null,-1)),OA={class:"status-line"},xA={key:0,class:"status-value"},ZA={key:1,class:"status-value"},NA=O(()=>f.createElementVNode("hr",null,null,-1)),GA={class:"status-line"},PA={key:0,class:"status-value"},JA={key:1,class:"status-value"},HA={key:0,style:{"margin-top":"20px","text-align":"center"}},jA={key:1,style:{"margin-top":"20px","text-align":"center"}},TA=f.defineComponent({__name:"ARSetup",props:{status:null,session:null},emits:["close"],setup(A,{emit:e}){const s=A,o=f.ref(null),h=f.ref(!1),p=f.computed(()=>{var a;return(a=s.status.feed)==null?void 0:a.available});function d(a){s.session.feed.selectCamera(o.value)}function c(){s.session.resetCalibration()}function C(){e("close")}return f.onMounted(()=>{o.value=s.session.feed.feedStatus.selected??null}),f.onUpdated(()=>{o.value=s.session.feed.feedStatus.selected??null}),(a,t)=>{var n,g,l,i;return f.openBlock(),f.createElementBlock("div",pA,[A.status?(f.openBlock(),f.createElementBlock("div",mA,[f.createElementVNode("div",{class:"close-button",onClick:C},"×"),h.value?(f.openBlock(),f.createElementBlock("div",gA,[vA,f.createElementVNode("div",IA,[f.createElementVNode("button",{class:"reset-button",onClick:t[0]||(t[0]=I=>h.value=!1)}," Back ")])])):(f.openBlock(),f.createElementBlock("div",BA,[CA,f.createElementVNode("div",QA,[f.createTextVNode(" Video "),(n=A.status.feed)!=null&&n.error?(f.openBlock(),f.createElementBlock("span",{key:0,class:"status-value",title:A.status.feed.error.toString()},"✗",8,wA)):(f.openBlock(),f.createElementBlock("span",kA,"✓"))]),f.withDirectives(f.createElementVNode("select",{class:"camera-selection",style:{"margin-top":"5px"},"onUpdate:modelValue":t[1]||(t[1]=I=>o.value=I),onChange:d},[bA,(f.openBlock(!0),f.createElementBlock(f.Fragment,null,f.renderList(f.unref(p),I=>(f.openBlock(),f.createElementBlock("option",{value:I.deviceId},[I.label?(f.openBlock(),f.createElementBlock("span",MA,f.toDisplayString(I.label),1)):(f.openBlock(),f.createElementBlock("span",yA,f.toDisplayString(I.deviceId),1))],8,EA))),256))],544),[[f.vModelSelect,o.value]]),FA,f.createElementVNode("div",DA,[f.createTextVNode(" Accelerometer "),A.status.motion&&A.status.motion.acceleration.error?(f.openBlock(),f.createElementBlock("span",{key:0,class:"status-value",title:A.status.motion.acceleration.error.toString()},"⚠",8,RA)):(f.openBlock(),f.createElementBlock("span",VA,"✓"))]),SA,f.createElementVNode("div",XA,[f.createTextVNode(" Gyroscope "),A.status.motion&&A.status.motion.gyro.error?(f.openBlock(),f.createElementBlock("span",{key:0,class:"status-value",title:A.status.motion.gyro.error.toString()},"⚠",8,KA)):(f.openBlock(),f.createElementBlock("span",UA,"✓"))]),zA,f.createElementVNode("div",OA,[f.createTextVNode(" Computer Vision "),A.status.initialized?(f.openBlock(),f.createElementBlock("span",ZA,"✓")):(f.openBlock(),f.createElementBlock("span",xA,"✗"))]),NA,f.createElementVNode("div",GA,[f.createTextVNode(" Calibration "),(g=A.status.calibration)!=null&&g.calibrated?(f.openBlock(),f.createElementBlock("span",JA,"✓")):(f.openBlock(),f.createElementBlock("span",PA,"✗"))]),(l=A.status.calibration)!=null&&l.calibrated?(f.openBlock(),f.createElementBlock("div",HA,[f.createElementVNode("button",{class:"reset-button",onClick:c},"Reset Calibration")])):!((i=A.status.feed)!=null&&i.error)&&A.status.initialized?(f.openBlock(),f.createElementBlock("div",jA,[f.createElementVNode("button",{class:"reset-button",onClick:t[2]||(t[2]=I=>h.value=!0)}," How to calibrate ")])):f.createCommentVNode("",!0)]))])):f.createCommentVNode("",!0)])}}}),Ge="",Y=(A,e)=>{const s=A.__vccOpts||A;for(const[o,h]of e)s[o]=h;return s},qA=Y(TA,[["__scopeId","data-v-bf4ce744"]]),LA={key:0,class:"controls"},YA=["disabled"],WA=["disabled"],_A={key:0},$A={key:1},Ae=["disabled"],ee={key:2,class:"hint-text"},te={key:3,class:"hint-text"},ae=f.defineComponent({__name:"ARControls",props:{status:null},setup(A){const e=f.inject("session");function s(){e.calibration.setCaptureNextcalibrationPoints()}function o(){e.calibrate()}function h(){e.resetCalibration()}return(p,d)=>{var c,C,a,t,n,g,l,i,I;return A.status?(f.openBlock(),f.createElementBlock("div",LA,[(c=A.status.calibration)!=null&&c.calibrated?f.createCommentVNode("",!0):(f.openBlock(),f.createElementBlock("button",{key:0,disabled:!((C=A.status.calibration)!=null&&C.captureReady),class:"capture-image",onClick:s}," Capture ",8,YA)),(a=A.status.calibration)!=null&&a.calibrated?f.createCommentVNode("",!0):(f.openBlock(),f.createElementBlock("button",{key:1,disabled:(((t=A.status.calibration)==null?void 0:t.captures)??0)<5,onClick:o},[(n=A.status.calibration)!=null&&n.calibrated?(f.openBlock(),f.createElementBlock("span",$A,"Recalibrate")):(f.openBlock(),f.createElementBlock("span",_A,"Calibrate"))],8,WA)),f.createElementVNode("button",{disabled:!((g=A.status.calibration)!=null&&g.captures)&&!((l=A.status.calibration)!=null&&l.calibrated),onClick:h}," Reset ",8,Ae),(i=A.status.calibration)!=null&&i.calibrated?(f.openBlock(),f.createElementBlock("span",te,"Calibrated")):(f.openBlock(),f.createElementBlock("span",ee,f.toDisplayString((I=A.status.calibration)==null?void 0:I.captures)+" Captures",1))])):f.createCommentVNode("",!0)}}}),Pe="",ne=Y(ae,[["__scopeId","data-v-937b8749"]]);var T=(A=>(A[A.RESET_CALIBRATION_POINTS=0]="RESET_CALIBRATION_POINTS",A[A.FIND_CHESSBOARD_CORNERS=1]="FIND_CHESSBOARD_CORNERS",A[A.CALIBRATE=2]="CALIBRATE",A[A.DETECT=3]="DETECT",A))(T||{}),G=(A=>(A[A.WORKER_READY=0]="WORKER_READY",A[A.WORKER_FAILED=1]="WORKER_FAILED",A[A.FIND_CHESSBOARD_CORNERS_CAPTURED=2]="FIND_CHESSBOARD_CORNERS_CAPTURED",A[A.FIND_CHESSBOARD_CORNERS_READY=3]="FIND_CHESSBOARD_CORNERS_READY",A[A.FIND_CHESSBOARD_CORNERS_NOT_READY=4]="FIND_CHESSBOARD_CORNERS_NOT_READY",A[A.CALIBRATE=5]="CALIBRATE",A[A.DETECT=6]="DETECT",A))(G||{});class ie{constructor(e){F(this,"session");F(this,"findChessboardOngoing");F(this,"calibrationOngoing");F(this,"captureNextCalibrationPoints");F(this,"calibrationStatus");F(this,"calibration",null);this.session=e,this.findChessboardOngoing=!1,this.calibrationOngoing=!1,this.captureNextCalibrationPoints=!1,this.calibrationStatus={captureReady:!1,calibrated:!1,captures:0}}resetCalibrationPoints(){this.session.worker&&this.session.worker.postMessage({operation:T.RESET_CALIBRATION_POINTS}),this.calibrationStatus.captures=0,this.session.updateStatus()}resetCameraCalibration(){this.calibration=null,this.calibrationStatus.calibrated=!1,this.session.updateStatus()}loadCameraCalibration(){const e=window.localStorage.getItem(`vuexr/${this.session.name}/calibration/${this.session.feed.feedStatus.selected}`);if(e){const s=JSON.parse(e);return this.resetCameraCalibration(),this.calibration=s,this.calibrationStatus.calibrated=!0,this.session.state=hA.DETECTION,this.session.updateStatus(),!0}else return!1}storeCameraCalibration(){return this.calibration?(window.localStorage.setItem(`vuexr/${this.session.name}/calibration/${this.session.feed.feedStatus.selected}`,JSON.stringify(this.calibration)),!0):!1}findChessBoardCorners(e=!0){var s;!this.findChessboardOngoing&&this.session.canvas&&this.session.worker&&(this.findChessboardOngoing=!0,this.session.worker.postMessage({operation:T.FIND_CHESSBOARD_CORNERS,image:(s=this.session.context2d)==null?void 0:s.getImageData(0,0,this.session.canvas.width,this.session.canvas.height),captureNextCalibrationPoints:this.captureNextCalibrationPoints,highlight:e}))}findChessBoardCornersCaptured(){this.findChessboardOngoing=!1,this.captureNextCalibrationPoints=!1,this.calibrationStatus.captures++,this.session.updateStatus()}findChessBoardCornersCaptureReady(){this.findChessboardOngoing=!1,this.calibrationStatus.captureReady=!0,this.session.updateStatus()}findChessBoardCornersCaptureNotReady(){this.findChessboardOngoing=!1,this.calibrationStatus.captureReady=!1,this.session.updateStatus()}setCaptureNextcalibrationPoints(){this.captureNextCalibrationPoints=!0}calibrate(e){var s;this.calibrationOngoing||(this.calibrationOngoing=!0,(s=this.session.worker)==null||s.postMessage({operation:T.CALIBRATE,width:e.width,height:e.height}))}calibrationFinished(e){e.calibration&&(this.calibrationOngoing=!1,this.calibration=e.calibration,this.storeCameraCalibration(),this.calibrationStatus.calibrated=!0,this.session.updateStatus())}}class re{constructor(e){F(this,"session");F(this,"detectionOngoing",!1);this.session=e}detect(e=!0){var s,o,h,p,d,c;if(!this.detectionOngoing){this.detectionOngoing=!0;try{(c=this.session.worker)==null||c.postMessage({operation:T.DETECT,image:(h=this.session.context2d)==null?void 0:h.getImageData(0,0,((s=this.session.canvas)==null?void 0:s.width)??0,((o=this.session.canvas)==null?void 0:o.height)??0),calibration:{cameraMatrix:JSON.parse(JSON.stringify((p=this.session.calibration.calibration)==null?void 0:p.cameraMatrix)),distCoeffs:JSON.parse(JSON.stringify((d=this.session.calibration.calibration)==null?void 0:d.distCoeffs))},highlight:e})}catch(C){this.detectionOngoing=!1,console.log(C)}}}detectionFinished(e){this.detectionOngoing=!1,this.session.calibration.calibrationStatus.calibrated&&this.session.poser.setMarkers(e.markers??[])}}var se=1e-6,z=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var A=0,e=arguments.length;e--;)A+=arguments[e]*arguments[e];return Math.sqrt(A)});function iA(){var A=new z(9);return z!=Float32Array&&(A[1]=0,A[2]=0,A[3]=0,A[5]=0,A[6]=0,A[7]=0),A[0]=1,A[4]=1,A[8]=1,A}function H(){var A=new z(16);return z!=Float32Array&&(A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[6]=0,A[7]=0,A[8]=0,A[9]=0,A[11]=0,A[12]=0,A[13]=0,A[14]=0),A[0]=1,A[5]=1,A[10]=1,A[15]=1,A}function q(A,e,s,o,h,p,d,c,C,a,t,n,g,l,i,I){var B=new z(16);return B[0]=A,B[1]=e,B[2]=s,B[3]=o,B[4]=h,B[5]=p,B[6]=d,B[7]=c,B[8]=C,B[9]=a,B[10]=t,B[11]=n,B[12]=g,B[13]=l,B[14]=i,B[15]=I,B}function oe(A,e){var s=e[0],o=e[1],h=e[2],p=e[3],d=e[4],c=e[5],C=e[6],a=e[7],t=e[8],n=e[9],g=e[10],l=e[11],i=e[12],I=e[13],B=e[14],u=e[15],R=s*c-o*d,y=s*C-h*d,b=s*a-p*d,Q=o*C-h*c,E=o*a-p*c,m=h*a-p*C,v=t*I-n*i,r=t*B-g*i,V=t*u-l*i,w=n*B-g*I,k=n*u-l*I,M=g*u-l*B,D=R*M-y*k+b*w+Q*V-E*r+m*v;return D?(D=1/D,A[0]=(c*M-C*k+a*w)*D,A[1]=(h*k-o*M-p*w)*D,A[2]=(I*m-B*E+u*Q)*D,A[3]=(g*E-n*m-l*Q)*D,A[4]=(C*V-d*M-a*r)*D,A[5]=(s*M-h*V+p*r)*D,A[6]=(B*b-i*m-u*y)*D,A[7]=(t*m-g*b+l*y)*D,A[8]=(d*k-c*V+a*v)*D,A[9]=(o*V-s*k-p*v)*D,A[10]=(i*E-I*b+u*R)*D,A[11]=(n*b-t*E-l*R)*D,A[12]=(c*r-d*w-C*v)*D,A[13]=(s*w-o*r+h*v)*D,A[14]=(I*y-i*Q-B*R)*D,A[15]=(t*Q-n*y+g*R)*D,A):null}function rA(A,e,s){var o=e[0],h=e[1],p=e[2],d=e[3],c=e[4],C=e[5],a=e[6],t=e[7],n=e[8],g=e[9],l=e[10],i=e[11],I=e[12],B=e[13],u=e[14],R=e[15],y=s[0],b=s[1],Q=s[2],E=s[3];return A[0]=y*o+b*c+Q*n+E*I,A[1]=y*h+b*C+Q*g+E*B,A[2]=y*p+b*a+Q*l+E*u,A[3]=y*d+b*t+Q*i+E*R,y=s[4],b=s[5],Q=s[6],E=s[7],A[4]=y*o+b*c+Q*n+E*I,A[5]=y*h+b*C+Q*g+E*B,A[6]=y*p+b*a+Q*l+E*u,A[7]=y*d+b*t+Q*i+E*R,y=s[8],b=s[9],Q=s[10],E=s[11],A[8]=y*o+b*c+Q*n+E*I,A[9]=y*h+b*C+Q*g+E*B,A[10]=y*p+b*a+Q*l+E*u,A[11]=y*d+b*t+Q*i+E*R,y=s[12],b=s[13],Q=s[14],E=s[15],A[12]=y*o+b*c+Q*n+E*I,A[13]=y*h+b*C+Q*g+E*B,A[14]=y*p+b*a+Q*l+E*u,A[15]=y*d+b*t+Q*i+E*R,A}function sA(A,e,s){var o=s[0],h=s[1],p=s[2],d,c,C,a,t,n,g,l,i,I,B,u;return e===A?(A[12]=e[0]*o+e[4]*h+e[8]*p+e[12],A[13]=e[1]*o+e[5]*h+e[9]*p+e[13],A[14]=e[2]*o+e[6]*h+e[10]*p+e[14],A[15]=e[3]*o+e[7]*h+e[11]*p+e[15]):(d=e[0],c=e[1],C=e[2],a=e[3],t=e[4],n=e[5],g=e[6],l=e[7],i=e[8],I=e[9],B=e[10],u=e[11],A[0]=d,A[1]=c,A[2]=C,A[3]=a,A[4]=t,A[5]=n,A[6]=g,A[7]=l,A[8]=i,A[9]=I,A[10]=B,A[11]=u,A[12]=d*o+t*h+i*p+e[12],A[13]=c*o+n*h+I*p+e[13],A[14]=C*o+g*h+B*p+e[14],A[15]=a*o+l*h+u*p+e[15]),A}function oA(A,e){var s=e[0],o=e[1],h=e[2],p=e[3],d=s+s,c=o+o,C=h+h,a=s*d,t=o*d,n=o*c,g=h*d,l=h*c,i=h*C,I=p*d,B=p*c,u=p*C;return A[0]=1-n-i,A[1]=t+u,A[2]=g-B,A[3]=0,A[4]=t-u,A[5]=1-a-i,A[6]=l+I,A[7]=0,A[8]=g+B,A[9]=l-I,A[10]=1-a-n,A[11]=0,A[12]=0,A[13]=0,A[14]=0,A[15]=1,A}var L=rA;function P(){var A=new z(3);return z!=Float32Array&&(A[0]=0,A[1]=0,A[2]=0),A}function ce(A){var e=A[0],s=A[1],o=A[2];return Math.hypot(e,s,o)}function cA(A,e,s){var o=new z(3);return o[0]=A,o[1]=e,o[2]=s,o}function le(A,e){var s=e[0],o=e[1],h=e[2],p=s*s+o*o+h*h;return p>0&&(p=1/Math.sqrt(p)),A[0]=e[0]*p,A[1]=e[1]*p,A[2]=e[2]*p,A}function ue(A,e){return A[0]*e[0]+A[1]*e[1]+A[2]*e[2]}function $(A,e,s){var o=e[0],h=e[1],p=e[2],d=s[0],c=s[1],C=s[2];return A[0]=h*C-p*c,A[1]=p*d-o*C,A[2]=o*c-h*d,A}var he=ce;(function(){var A=P();return function(e,s,o,h,p,d){var c,C;for(s||(s=3),o||(o=0),h?C=Math.min(h*s+o,e.length):C=e.length,c=o;c<C;c+=s)A[0]=e[c],A[1]=e[c+1],A[2]=e[c+2],p(A,A,d),e[c]=A[0],e[c+1]=A[1],e[c+2]=A[2];return e}})();function fe(){var A=new z(4);return z!=Float32Array&&(A[0]=0,A[1]=0,A[2]=0,A[3]=0),A}function lA(A,e,s,o){var h=new z(4);return h[0]=A,h[1]=e,h[2]=s,h[3]=o,h}function de(A,e){var s=e[0],o=e[1],h=e[2],p=e[3],d=s*s+o*o+h*h+p*p;return d>0&&(d=1/Math.sqrt(d)),A[0]=s*d,A[1]=o*d,A[2]=h*d,A[3]=p*d,A}function pe(A,e,s){var o=e[0],h=e[1],p=e[2],d=s[0],c=s[1],C=s[2],a=s[3],t=a*o+c*p-C*h,n=a*h+C*o-d*p,g=a*p+d*h-c*o,l=-d*o-c*h-C*p;return A[0]=t*a+l*-d+n*-C-g*-c,A[1]=n*a+l*-c+g*-d-t*-C,A[2]=g*a+l*-C+t*-c-n*-d,A[3]=e[3],A}(function(){var A=fe();return function(e,s,o,h,p,d){var c,C;for(s||(s=4),o||(o=0),h?C=Math.min(h*s+o,e.length):C=e.length,c=o;c<C;c+=s)A[0]=e[c],A[1]=e[c+1],A[2]=e[c+2],A[3]=e[c+3],p(A,A,d),e[c]=A[0],e[c+1]=A[1],e[c+2]=A[2],e[c+3]=A[3];return e}})();function W(){var A=new z(4);return z!=Float32Array&&(A[0]=0,A[1]=0,A[2]=0),A[3]=1,A}function me(A,e,s){s=s*.5;var o=Math.sin(s);return A[0]=o*e[0],A[1]=o*e[1],A[2]=o*e[2],A[3]=Math.cos(s),A}function AA(A,e,s,o){var h=e[0],p=e[1],d=e[2],c=e[3],C=s[0],a=s[1],t=s[2],n=s[3],g,l,i,I,B;return l=h*C+p*a+d*t+c*n,l<0&&(l=-l,C=-C,a=-a,t=-t,n=-n),1-l>se?(g=Math.acos(l),i=Math.sin(g),I=Math.sin((1-o)*g)/i,B=Math.sin(o*g)/i):(I=1-o,B=o),A[0]=I*h+B*C,A[1]=I*p+B*a,A[2]=I*d+B*t,A[3]=I*c+B*n,A}function ge(A,e){var s=e[0]+e[4]+e[8],o;if(s>0)o=Math.sqrt(s+1),A[3]=.5*o,o=.5/o,A[0]=(e[5]-e[7])*o,A[1]=(e[6]-e[2])*o,A[2]=(e[1]-e[3])*o;else{var h=0;e[4]>e[0]&&(h=1),e[8]>e[h*3+h]&&(h=2);var p=(h+1)%3,d=(h+2)%3;o=Math.sqrt(e[h*3+h]-e[p*3+p]-e[d*3+d]+1),A[h]=.5*o,o=.5/o,A[3]=(e[p*3+d]-e[d*3+p])*o,A[p]=(e[p*3+h]+e[h*3+p])*o,A[d]=(e[d*3+h]+e[h*3+d])*o}return A}var eA=lA,uA=de;(function(){var A=P(),e=cA(1,0,0),s=cA(0,1,0);return function(o,h,p){var d=ue(h,p);return d<-.999999?($(A,e,h),he(A)<1e-6&&$(A,s,h),le(A,A),me(o,A,Math.PI),o):d>.999999?(o[0]=0,o[1]=0,o[2]=0,o[3]=1,o):($(A,h,p),o[0]=A[0],o[1]=A[1],o[2]=A[2],o[3]=1+d,uA(o,o))}})(),function(){var A=W(),e=W();return function(s,o,h,p,d,c){return AA(A,o,d,c),AA(e,h,p,c),AA(s,A,e,2*c*(1-c)),s}}(),function(){var A=iA();return function(e,s,o,h){return A[0]=o[0],A[3]=o[1],A[6]=o[2],A[1]=h[0],A[4]=h[1],A[7]=h[2],A[2]=-s[0],A[5]=-s[1],A[8]=-s[2],uA(e,ge(e,A))}}();function ve(A,e){var p;const s=Math.min(A.width/e.width,A.height/e.height),o=(A.width-e.width*s)/2,h=(A.height-e.height*s)/2;(p=A.getContext("2d"))==null||p.drawImage(e,0,0,e.width,e.height,o,h,e.width*s,e.height*s)}function Ie(A,e,s,o,h){const p=H(),d=q(1,0,0,0,0,-1,0,0,0,0,-1,0,0,0,0,1),c=q(s[0],s[3],s[6],0,s[1],s[4],s[7],0,s[2],s[5],s[8],0,0,0,0,1);L(p,c,d);const C=q(1,0,0,0,0,1,0,0,0,0,1,0,o[0],o[1],o[2],1);L(p,C,p),L(p,h,p);const a=e[0],t=q(1,0,0,0,0,1,0,0,0,0,1,1/a,0,0,0,0);L(p,t,p);const n=q(A,0,0,0,0,A,0,0,0,0,A,0,e[2]*A,e[5]*A,0,1);return L(p,n,p),p}const Be={constraints:{audio:!1,video:{facingMode:"environment"}}};class Ce{constructor(e,s){F(this,"session");F(this,"options");F(this,"paused",!1);F(this,"mediaStream");F(this,"track");F(this,"videoElement");F(this,"imageCapture");F(this,"feedStatus",{});F(this,"animationFrameRequest");this.session=e,this.options={...Be,...s},this.videoElement=document.createElement("video")}async init(){(!navigator.mediaDevices||!ImageCapture)&&(this.feedStatus={error:"mediaDevices and/or ImageCapture API not supported!"})}loadCamera(){let e=window.localStorage.getItem(`vuexr/${this.session.name}/camera`);return e?(e=JSON.parse(e),e):null}storeCamera(){return this.feedStatus.selected?(window.localStorage.setItem(`vuexr/${this.session.name}/camera`,JSON.stringify(this.feedStatus.selected)),!0):!1}stop(){var e;this.mediaStream&&(this.animationFrameRequest!==void 0&&window.cancelAnimationFrame(this.animationFrameRequest),(e=this.track)==null||e.stop(),this.track=void 0,this.mediaStream=void 0,this.imageCapture=void 0)}async selectCamera(e){this.feedStatus.selected!==e&&(this.stop(),this.feedStatus.selected=e,this.storeCamera(),this.session.calibration.resetCalibrationPoints(),await this.run(),this.session.updateStatus())}async listAvailable(){return navigator.mediaDevices&&ImageCapture?(await navigator.mediaDevices.enumerateDevices()).filter(s=>s.kind==="videoinput"):[]}async run(){try{this.feedStatus.selected?this.mediaStream=await navigator.mediaDevices.getUserMedia({video:{deviceId:this.feedStatus.selected}}):this.mediaStream=await navigator.mediaDevices.getUserMedia(this.options.constraints),this.track=this.mediaStream.getVideoTracks()[0],this.feedStatus.selected=this.track.getSettings().deviceId,this.storeCamera();const e=await this.listAvailable(),s=this.loadCamera();this.feedStatus={available:e,selected:s??void 0},this.session.calibration.loadCameraCalibration(),this.session.updateStatus(),this.imageCapture=new ImageCapture(this.track),this.videoElement.srcObject=this.mediaStream,await new Promise(o=>{this.videoElement.onloadedmetadata=()=>{this.videoElement.play(),this.session.canvas&&(this.session.canvas.width=this.videoElement.videoWidth,this.session.canvas.height=this.videoElement.videoHeight),this.loop(),o()}})}catch(e){console.log(e)}}async loop(){if(this.imageCapture)try{const e=await this.imageCapture.grabFrame();this.session.canvas&&ve(this.session.canvas,e),this.session.process()}catch{}finally{this.paused||(this.animationFrameRequest=window.requestAnimationFrame(()=>{this.loop()}))}}}class Qe{constructor(e){F(this,"session");F(this,"elements",{});F(this,"views",[]);F(this,"trackedMarkers",[]);this.session=e}registerView(e,s){this.views.push({id:e,callback:s})}unregisterView(e){this.views=this.views.filter(s=>s.id!==e)}registerElement(e,s,o,h){this.elements[e]={id:e,element:s,markerSize:o,callback:h,lastRMat:H(),lastRVec:P(),lastTVec:P(),tracked:!1}}unregisterElement(e){delete this.elements[e]}setMarkers(e){for(const h of e)this.elements[h.id]&&(!this.session.motion.motionStatus.acceleration.error&&!this.session.motion.motionStatus.gyro.error?this.elements[h.id].lastTransform=this.session.motion.getCurrentTransform():this.elements[h.id].lastTransform={orientation:W(),position:P()},this.elements[h.id].lastRVec=h.rvec,this.elements[h.id].lastTVec=h.tvec,this.elements[h.id].lastRMat=h.rmat,this.elements[h.id].tracked||(this.elements[h.id].tracked=!0,this.elements[h.id].callback(!0)));const s=e.map(h=>h.id.toString()),o=Object.keys(this.elements).filter(h=>!s.includes(h));for(const h of o)this.elements[h].tracked&&(this.elements[h].tracked=!1,this.elements[h].callback(!1));(this.session.motion.motionStatus.acceleration.error||this.session.motion.motionStatus.gyro.error)&&this.readjustElements(),this.trackedMarkers=s,this.views.forEach(h=>h.callback(this.trackedMarkers))}readjustElements(){var o,h,p;const e=(((o=this.session.canvas)==null?void 0:o.clientWidth)??0)/(((h=this.session.canvas)==null?void 0:h.width)??0),s=Object.keys(this.elements).map(d=>this.elements[d]);for(const d of s)if(d.lastTransform){const c=this.session.motion.getOffsetMatrix(d.lastTransform),C=Ie(e,((p=this.session.calibration.calibration)==null?void 0:p.cameraMatrix)??iA(),d.lastRMat,d.lastTVec,c);this.projectElement(d.id,Array.from(C))}}projectElement(e,s){const o=s.map(h=>h.toFixed(5));this.elements[e].element.style.transform=`matrix3d(${o.join(",")})`}}function _(A){throw new Error('Could not dynamically require "'+A+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var j={},we={get exports(){return j},set exports(A){j=A}};/**
 * @name    fili
 * @version 2.0.3 | December 13th 2018
 * @author  Florian Markert
 * @license MIT
 */(function(A,e){(function(s){A.exports=s()})(function(){return function s(o,h,p){function d(a,t){if(!h[a]){if(!o[a]){var n=typeof _=="function"&&_;if(!t&&n)return n(a,!0);if(c)return c(a,!0);var g=new Error("Cannot find module '"+a+"'");throw g.code="MODULE_NOT_FOUND",g}var l=h[a]={exports:{}};o[a][0].call(l.exports,function(i){var I=o[a][1][i];return d(I||i)},l,l.exports,s,o,h,p)}return h[a].exports}for(var c=typeof _=="function"&&_,C=0;C<p.length;C++)d(p[C]);return d}({1:[function(s,o,h){o.exports={CalcCascades:s("./src/calcCascades"),Fft:s("./src/fft"),FirCoeffs:s("./src/firCoeffs"),FirFilter:s("./src/firFilter"),IirCoeffs:s("./src/iirCoeffs"),IirFilter:s("./src/iirFilter"),TestFilter:s("./src/testFilter")}},{"./src/calcCascades":2,"./src/fft":3,"./src/firCoeffs":4,"./src/firFilter":5,"./src/iirCoeffs":6,"./src/iirFilter":7,"./src/testFilter":8}],2:[function(s,o,h){var p=s("./iirCoeffs"),d=new p,c={bessel:{q:[[.57735026919],[.805538281842,.521934581669],[1.02331395383,.611194546878,.510317824749],[1.22566942541,.710852074442,.559609164796,.505991069397],[1.41530886916,.809790964842,.620470155556,.537552151325,.503912727276],[1.59465693507,.905947107025,.684008068137,.579367238641,.525936202016,.502755558204],[1.76552743493,.998998442993,.747625068271,.624777082395,.556680772868,.519027293158,.502045428643],[1.9292718407,1.08906376917,.810410302962,.671382379377,.591144659703,.542678365981,.514570953471,.501578400482],[2.08691792612,1.17637337045,.872034231424,.718163551101,.627261751983,.569890924765,.533371782078,.511523796759,.50125489338],[2.23926560629,1.26117120993,.932397288146,.764647810579,.664052481472,.598921924986,.555480327396,.526848630061,.509345928377,.501021580965],[2.38695091667,1.34368488961,.991497755204,.81060830488,.701011199665,.628878390935,.57943181849,.545207253735,.52208637596,.507736060535,.500847111042],[2.53048919562,1.42411783481,1.04937620183,.85593899901,.737862159044,.659265671705,.604435823473,.565352679646,.537608804383,.51849505465,.506508536474,.500715908905]],f3dB:[[1.27201964951],[1.60335751622,1.43017155999],[1.9047076123,1.68916826762,1.60391912877],[2.18872623053,1.95319575902,1.8320926012,1.77846591177],[2.45062684305,2.20375262593,2.06220731793,1.98055310881,1.94270419166],[2.69298925084,2.43912611431,2.28431825401,2.18496722634,2.12472538477,2.09613322542],[2.91905714471,2.66069088948,2.49663434571,2.38497976939,2.30961462222,2.26265746534,2.24005716132],[3.13149167404,2.87016099416,2.69935018044,2.57862945683,2.49225505119,2.43227707449,2.39427710712,2.37582307687],[3.33237300564,3.06908580184,2.89318259511,2.76551588399,2.67073340527,2.60094950474,2.55161764546,2.52001358804,2.50457164552],[3.52333123464,3.25877569704,3.07894353744,2.94580435024,2.84438325189,2.76691082498,2.70881411245,2.66724655259,2.64040228249,2.62723439989],[3.70566068548,3.44032173223,3.2574059854,3.11986367838,3.01307175388,2.92939234605,2.86428726094,2.81483068055,2.77915465405,2.75596888377,2.74456638588],[3.88040469682,3.61463243697,3.4292654707,3.28812274966,3.17689762788,3.08812364257,3.01720732972,2.96140104561,2.91862858495,2.88729479473,2.8674198668,2.8570800015]],f1dB:[[2.16477559371],[2.70320928596,2.41122332505],[3.25676581436,2.88822569572,2.74246238837],[3.76153580353,3.35675411406,3.14862673032,3.05646412475],[4.22174260104,3.79644757806,3.55260471864,3.41193742197,3.34673435508],[4.64584812552,4.20789257981,3.94082363122,3.76942681446,3.66549975744,3.61617359345],[5.04060395196,4.5944592201,4.3111677248,4.11836351827,3.98822359814,3.90713836715,3.86811234525],[5.41107948467,4.95951159709,4.66435804468,4.45575796102,4.30650679478,4.20286750045,4.13720522991,4.10531748119],[5.76110791853,5.30592898465,5.00182215701,4.7811081045,4.61724509926,4.49660100894,4.41131378918,4.35667671372,4.32997951075],[6.09364309488,5.63609116014,5.32506930789,5.09480346139,4.91939504255,4.78540258409,4.68493280536,4.61302286993,4.56661931366,4.54382759952],[6.41100731543,5.95195558182,5.63550073656,5.39754464742,5.21278891332,5.06801430334,4.95539684456,4.8697869429,4.80814951843,4.76793469612,4.74828032403],[6.71506056052,6.25514029778,5.9343616072,5.69011422355,5.49763642361,5.34401973764,5.22125973611,5.12485045619,5.05037962112,4.99699982231,4.96155789635,4.94441828777]]}},C={bessel:{as:[[1.3617],[1.3397,.7743],[1.2217,.9686,.5131],[1.1112,.9754,.7202,.3728],[1.0215,.9393,.7815,.5604,.2883]],bs:[[.618],[.4889,.389],[.3887,.3505,.2756],[.3162,.2979,.2621,.2087],[.265,.2549,.2351,.2059,.1665]]},butterworth:{as:[[1.4142],[1.8478,.7654],[1.9319,1.4142,.5176],[1.9616,1.6629,1.1111,.3902],[1.9754,1.782,1.4142,.908,.3129]],bs:[[1],[1,1],[1,1,1],[1,1,1,1],[1,1,1,1,1]]},tschebyscheff05:{as:[[1.3614],[2.6282,.3648],[3.8645,.7528,.1589],[5.1117,1.0639,.3439,.0885],[6.3648,1.3582,.4822,.1994,.0563]],bs:[[1.3827],[3.4341,1.1509],[6.9797,1.8573,1.0711],[11.9607,2.9365,1.4206,1.0407],[18.3695,4.3453,1.944,1.252,1.0263]]},tschebyscheff1:{as:[[1.3022],[2.5904,.3039],[3.8437,.6292,.1296],[5.1019,.8916,.2806,.0717],[6.3634,1.1399,.3939,.1616,.0455]],bs:[[1.5515],[4.1301,1.1697],[8.5529,1.9124,1.0766],[14.7608,3.0426,1.4334,1.0432],[22.7468,4.5167,1.9665,1.2569,1.0277]]},tschebyscheff2:{as:[[1.1813],[2.4025,.2374],[3.588,.4925,.0995],[4.7743,.6991,.2153,.0547],[5.9618,.8947,.3023,.1233,.0347]],bs:[[1.7775],[4.9862,1.1896],[10.4648,1.9622,1.0826],[18.151,3.1353,1.4449,1.0461],[28.0376,4.6644,1.9858,1.2614,1.0294]]},tschebyscheff3:{as:[[1.065],[2.1853,.1964],[3.2721,.4077,.0815],[4.3583,.5791,.1765,.0448],[5.4449,.7414,.2479,.1008,.0283]],bs:[[1.9305],[5.5339,1.2009],[11.6773,1.9873,1.0861],[20.2948,3.1808,1.4507,1.0478],[31.3788,4.7363,1.9952,1.2638,1.0304]]},allpass:{as:[[1.6278],[2.337,1.3506],[2.6117,2.0706,1.0967],[2.7541,2.4174,1.785,.9239],[2.8406,2.612,2.1733,1.5583,.8018]],bs:[[.8832],[1.4878,1.1837],[1.7763,1.6015,1.2596],[1.942,1.83,1.6101,1.2822],[2.049,1.9714,1.8184,1.5923,1.2877]]}},a=function(l,i){var I=[],B=0;if(i!=="fromPZ")for(l.order>12&&(l.order=12),B=0;B<l.order;B++){var u,R,y;l.transform==="matchedZ"?I.push(d.lowpassMZ({Fs:l.Fs,Fc:l.Fc,preGain:l.preGain,as:C[l.characteristic].as[l.order-1][B],bs:C[l.characteristic].bs[l.order-1][B]})):(l.characteristic==="butterworth"?(u=.5/Math.sin(Math.PI/(2*l.order)*(B+.5)),R=1):(u=c[l.characteristic].q[l.order-1][B],R=l.oneDb?c[l.characteristic].f1dB[l.order-1][B]:c[l.characteristic].f3dB[l.order-1][B]),y=i==="highpass"?l.Fc/R:l.Fc*R,i!=="bandpass"&&i!=="bandstop"||l.characteristic==="bessel"&&(y=Math.sqrt(l.order)*y/l.order),I.push(d[i]({Fs:l.Fs,Fc:y,Q:u,BW:l.BW||0,gain:l.gain||0,preGain:l.preGain||!1})))}else for(B=0;B<l.length;B++)I.push(d[i](l[B]));return I},t=function(l){return function(i){return a(i,l)}},n={},g=function(){var l=[];for(var i in d)n[i]=t(i),l.push(i);return n.available=function(){return l},n};o.exports=g},{"./iirCoeffs":6}],3:[function(s,o,h){var p=function(d){if(!function(m){return!(m&m-1)}(d))return!1;var c={};c.length=d,c.buffer=new Float64Array(d),c.re=new Float64Array(d),c.im=new Float64Array(d),c.reI=new Float64Array(d),c.imI=new Float64Array(d),c.twiddle=new Int32Array(d),c.sinTable=new Float64Array(d-1),c.cosTable=new Float64Array(d-1);var C=2*Math.PI,a=Math.floor(Math.log(d)/Math.LN2);for(n=c.sinTable.length;n--;)c.sinTable[n]=Math.sin(C*(n/d)),c.cosTable[n]=Math.cos(C*(n/d));for(var t=d>>1,n=0,g=0;c.twiddle[n]=g,!(++n>=d);){for(a=t;a<=g;)g-=a,a>>=1;g+=a}var l=Math.PI,i=2*Math.PI,I=Math.abs,B=Math.pow,u=Math.cos,R=Math.sin,y=function(m){return R(l*m)/(l*m)},b=Math.E,Q={rectangular:{calc:function(){return 1},values:[],correction:1},none:{calc:function(){return 1},values:[],correction:1},hanning:{calc:function(m,v){return .5*(1-u(i*m/(v-1)))},values:[],correction:2},hamming:{calc:function(m,v){return .54-.46*u(i*m/(v-1))},values:[],correction:1.8518999946875638},tukery:{calc:function(m,v,r){return m<r*(v-1)/2?.5*(1+u(l*(2*m/(r*(v-1))-1))):(v-1)*(1-r/2)<m?.5*(1+u(l*(2*m/(r*(v-1))-2/r+1))):1},values:[],correction:4/3},cosine:{calc:function(m,v){return R(l*m/(v-1))},values:[],correction:1.570844266360796},lanczos:{calc:function(m,v){return y(2*m/(v-1)-1)},values:[],correction:1.6964337576195783},triangular:{calc:function(m,v){return 2/(v+1)*((v+1)/2-I(m-(v-1)/2))},values:[],correction:2},bartlett:{calc:function(m,v){return 2/(v-1)*((v-1)/2-I(m-(v-1)/2))},values:[],correction:2},gaussian:{calc:function(m,v,r){return B(b,-.5*B((m-(v-1)/2)/(r*(v-1)/2),2))},values:[],correction:5/3},bartlettHanning:{calc:function(m,v){var r=i*m/(v-1);return .62-.48*I(m/(v-1)-.5)-.38*u(r)},values:[],correction:2},blackman:{calc:function(m,v,r){var V=(1-r)/2,w=r/2,k=i*m/(v-1);return V-.5*u(k)+w*u(2*k)},values:[],correction:4/3},blackmanHarris:{calc:function(m,v){var r=i*m/(v-1);return .35875-.48829*u(r)+.14128*u(2*r)-.01168*u(3*r)},values:[],correction:1.5594508635},nuttall3:{calc:function(m,v){var r=i*m/(v-1);return .375-.5*u(r)+.125*u(2*r)},values:[],correction:1.56},nuttall3a:{calc:function(m,v){var r=i*m/(v-1);return .40897-.5*u(r)+.09103*u(2*r)},values:[],correction:1.692},nuttall3b:{calc:function(m,v){var r=i*m/(v-1);return .4243801-.4973406*u(r)+.078793*u(2*r)},values:[],correction:1.7372527},nuttall4:{calc:function(m,v){var r=i*m/(v-1);return .3125-.46875*u(r)+.1875*u(2*r)-.03125*u(3*r)},values:[],correction:1.454543},nuttall4a:{calc:function(m,v){var r=i*m/(v-1);return .338946-.481973*u(r)+.161054*u(2*r)-.018027*u(3*r)},values:[],correction:1.512732763},nuttall4b:{calc:function(m,v){var r=i*m/(v-1);return .355768-.481973*u(r)+.144232*u(2*r)-.012604*u(3*r)},values:[],correction:1.55223262},nuttall4c:{calc:function(m,v){var r=i*m/(v-1);return .3635819-.4891775*u(r)+.1365995*u(2*r)-.0106411*u(3*r)},values:[],correction:1.57129067},sft3f:{calc:function(m,v){var r=i*m/(v-1);return .26526-.5*u(r)+.23474*u(2*r)},values:[],correction:1.3610238},sft4f:{calc:function(m,v){var r=i*m/(v-1);return .21706-.42103*u(r)+.28294*u(2*r)-.07897*u(3*r)},values:[],correction:1.2773573},sft5f:{calc:function(m,v){var r=i*m/(v-1);return .1881-.36923*u(r)+.28702*u(2*r)-.13077*u(3*r)+.02488*u(4*r)},values:[],correction:1.23167769},sft3m:{calc:function(m,v){var r=i*m/(v-1);return .28235-.52105*u(r)+.19659*u(2*r)},values:[],correction:1.39343451},sft4m:{calc:function(m,v){var r=i*m/(v-1);return .241906-.460841*u(r)+.2552381*u(2*r)-.041872*u(3*r)},values:[],correction:1.3190596},sft5m:{calc:function(m,v){var r=i*m/(v-1);return .209671-.407331*u(r)+.281225*u(2*r)-.092669*u(3*r)+.0091036*u(4*r)},values:[],correction:1.26529456464},nift:{calc:function(m,v){var r=i*m/(v-1);return .2810639-.5208972*u(r)+.1980399*u(2*r)},values:[],correction:1.39094182},hpft:{calc:function(m,v){var r=i*m/(v-1);return(1-1.912510941*u(r)+1.079173272*u(2*r)-.1832630879*u(3*r))/v},values:[],correction:1},srft:{calc:function(m,v){var r=i*m/(v-1);return(1-1.93*u(r)+1.29*u(2*r)-.388*u(3*r)+.028*u(4*r))/v},values:[],correction:1},hft70:{calc:function(m,v){var r=i*m/(v-1);return(1-1.90796*u(r)+1.07349*u(2*r)-.18199*u(3*r))/v},values:[],correction:1},hft95:{calc:function(m,v){var r=i*m/(v-1);return(1-1.9383379*u(r)+1.3045202*u(2*r)-.402827*u(3*r)+.0350665*u(4*r))/v},values:[],correction:1},hft90d:{calc:function(m,v){var r=i*m/(v-1);return(1-1.942604*u(r)+1.340318*u(2*r)-.440811*u(3*r)+.043097*u(4*r))/v},values:[],correction:1},hft116d:{calc:function(m,v){var r=i*m/(v-1);return(1-1.9575375*u(r)+1.4780705*u(2*r)-.6367431*u(3*r)+.1228389*u(4*r)-.0066288*u(5*r))/v},values:[],correction:1},hft144d:{calc:function(m,v){var r=i*m/(v-1);return(1-1.96760033*u(r)+1.57983607*u(2*r)-.81123644*u(3*r)+.22583558*u(4*r)-.02773848*u(5*r)+9036e-7*u(6*r))/v},values:[],correction:1},hft196d:{calc:function(m,v){var r=i*m/(v-1);return(1-1.97441842*u(r)+1.65409888*u(2*r)-.95788186*u(3*r)+.3367342*u(4*r)-.06364621*u(5*r)+.00521942*u(6*r)-10599e-8*u(7*r))/v},values:[],correction:1},hft223d:{calc:function(m,v){var r=i*m/(v-1);return(1-1.98298997309*u(r)+1.75556083063*u(2*r)-1.19037717712*u(3*r)+.56155440797*u(4*r)-.17296769663*u(5*r)+.03233247087*u(6*r)-.00324954578*u(7*r)+.0001380104*u(8*r)-132725e-11*u(9*r))/v},values:[],correction:1},hft248d:{calc:function(m,v){var r=i*m/(v-1);return(1-1.985844164102*u(r)+1.791176438506*u(2*r)-1.282075284005*u(3*r)+.667777530266*u(4*r)-.240160796576*u(5*r)+.056656381764*u(6*r)-.008134974479*u(7*r)+.00062454465*u(8*r)-19808998e-12*u(9*r)+132974e-12*u(10*r))/v},values:[],correction:1}},E=function(m){return Q[m.name].values.length!==m.N?(m.n===0&&(Q[m.name].values.length=0),Q[m.name].values[m.n]=Q[m.name].correction*Q[m.name].calc(m.n,m.N,m.a),Q[m.name].values[m.n]):Q[m.name].values};return{forward:function(m,v){var r,V,w,k,M,D,S,K,x,X,Z,J;w=c.buffer.length;var nA={name:v,N:w,a:.5,n:0},dA=E(nA);if(typeof dA=="number")for(r=0;r<w;++r)nA.n=r,c.buffer[r]=m[r]*E(nA);else for(r=0;r<w;++r)c.buffer[r]=m[r]*dA[r];for(r=w;r--;)c.re[r]=c.buffer[c.twiddle[r]],c.im[r]=0;for(k=1;k<w;k=M)for(D=0,M=k+k,S=w/M,V=0;V<k;V++){for(K=c.cosTable[D],x=c.sinTable[D],r=V;r<w;r+=M)X=r+k,Z=x*c.im[X]+K*c.re[X],J=K*c.im[X]-x*c.re[X],c.re[X]=c.re[r]-Z,c.re[r]+=Z,c.im[X]=c.im[r]-J,c.im[r]+=J;D+=S}return{re:c.re,im:c.im}},inverse:function(m,v){var r,V,w,k,M,D,S,K,x,X,Z,J;for(w=m.length,r=w;r--;)V=c.twiddle[r],c.reI[r]=m[V],c.imI[r]=-v[V];for(k=1;k<w;k=M)for(D=0,M=k+k,S=w/M,V=0;V<k;V++){for(K=c.cosTable[D],x=c.sinTable[D],r=V;r<w;r+=M)X=r+k,Z=x*c.imI[X]+K*c.reI[X],J=K*c.imI[X]-x*c.reI[X],c.reI[X]=c.reI[r]-Z,c.reI[r]+=Z,c.imI[X]=c.imI[r]-J,c.imI[r]+=J;D+=S}for(r=w;r--;)c.buffer[r]=c.reI[r]/w;return c.buffer},magnitude:function(m){for(var v=[],r=0;r<m.re.length;r++)v.push(Math.sqrt(m.re[r]*m.re[r]+m.im[r]*m.im[r]));return v},magToDb:function(m){for(var v=[],r=0;r<m.length;r++)v.push(20*Math.log(m[r])*Math.LOG10E);return v},phase:function(m){for(var v=[],r=0;r<m.re.length;r++)v.push(Math.atan2(m.im[r],m.re[r]));return v},windows:function(){var m=[];for(var v in Q)m.push(v);return m}}};o.exports=p},{}],4:[function(s,o,h){var p=function(){var d=function(t){var n=t.Fs,g=t.Fa,l=t.Fb,i=t.order||51,I=t.Att||100,B=function(m){for(var v=0,r=1,V=1;r>1e-6*V;)v+=2,r*=m*m/(v*v),V+=r;return V};i/2-Math.floor(i/2)==0&&i++;var u,R=(i-1)/2,y=[],b=0,Q=0,E=[];for(y[0]=2*(l-g)/n,Q=1;Q<=R;Q++)y[Q]=(Math.sin(2*Q*Math.PI*l/n)-Math.sin(2*Q*Math.PI*g/n))/(Q*Math.PI);for(b=I<21?0:I>50?.1102*(I-8.7):.5842*Math.pow(I-21,.4)+.07886*(I-21),u=B(b),Q=0;Q<=R;Q++)E[R+Q]=y[Q]*B(b*Math.sqrt(1-Q*Q/(R*R)))/u;for(Q=0;Q<R;Q++)E[Q]=E[i-1-Q];return E},c=function(t){var n=t.Fs,g=t.Fc,l=t.order,i=2*Math.PI*g/n,I=0,B=0,u=[];for(I=0;I<=l;I++)I-l/2==0?u[I]=i:(u[I]=Math.sin(i*(I-l/2))/(I-l/2),u[I]*=.54-.46*Math.cos(2*Math.PI*I/l)),B+=u[I];for(I=0;I<=l;I++)u[I]/=B;return u},C=function(t){var n;for(n=0;n<t.length;n++)t[n]=-t[n];return t[(t.length-1)/2]++,t},a=function(t){for(var n=c({order:t.order,Fs:t.Fs,Fc:t.F2}),g=C(c({order:t.order,Fs:t.Fs,Fc:t.F1})),l=[],i=0;i<n.length;i++)l.push(n[i]+g[i]);return l};return{lowpass:function(t){return c(t)},highpass:function(t){return C(c(t))},bandstop:function(t){return a(t)},bandpass:function(t){return C(a(t))},kbFilter:function(t){return d(t)},available:function(){return["lowpass","highpass","bandstop","bandpass","kbFilter"]}}};o.exports=p},{}],5:[function(s,o,h){var p=s("./utils"),d=p.runMultiFilter,c=p.runMultiFilterReverse,C=p.complex,a=p.evaluatePhase,t=function(n){var g=n,l=[],i=0;for(i=0;i<g.length;i++)l[i]={re:g[i],im:0};var I=function(b){var Q,E=[];for(Q=0;Q<b;Q++)E.push(0);return{buf:E,pointer:0}},B=I(g.length-1),u=function(b,Q){Q.buf[Q.pointer]=b;var E=0;for(i=0;i<Q.buf.length;i++)E+=g[i]*Q.buf[(Q.pointer+i)%Q.buf.length];return Q.pointer=(Q.pointer+1)%Q.buf.length,E},R=function(b){var Q=I(g.length-1);return d(b,Q,u)},y=function(b){for(var Q=b.Fs,E=b.Fr,m=-Math.PI*(E/Q)*2,v={re:0,im:0},r=0;r<g.length-1;r++)v=C.add(v,C.mul(l[r],{re:Math.cos(m*r),im:Math.sin(m*r)}));var V=C.magnitude(v);return{magnitude:V,phase:C.phase(v),dBmagnitude:20*Math.log(V)*Math.LOG10E}};return{responsePoint:function(b){return y(b)},response:function(b){b=b||100;var Q=[],E=0,m=2*b;for(E=0;E<b;E++)Q[E]=y({Fs:m,Fr:E});return a(Q),Q},simulate:function(b){return R(b)},singleStep:function(b){return u(b,B)},multiStep:function(b,Q){return d(b,B,u,Q)},filtfilt:function(b,Q){return c(d(b,B,u,Q),B,u,!0)},reinit:function(){B=I(g.length-1)}}};o.exports=t},{"./utils":9}],6:[function(s,o,h){var p=function(){var d=function(a,t){var n=a.Q,g=a.Fc,l=a.Fs,i={},I=2*Math.PI*g/l;return a.BW?i.alpha=Math.sin(I)*Math.sinh(Math.log(2)/2*a.BW*I/Math.sin(I)):i.alpha=Math.sin(I)/(2*n),i.cw=Math.cos(I),i.a0=1+i.alpha,t.a0=i.a0,t.a.push(-2*i.cw/i.a0),t.k=1,t.a.push((1-i.alpha)/i.a0),i},c=function(a){var t=a.Q,n=a.Fc,g=a.Fs,l={},i=2*Math.PI*n/g;return l.alpha=Math.sin(i)/(2*t),l.cw=Math.cos(i),l.A=Math.pow(10,a.gain/40),l},C=function(){var a={};return a.z=[0,0],a.a=[],a.b=[],a};return{fromPZ:function(a){var t=C();return t.a0=1,t.b.push(1),t.b.push(-a.z0.re-a.z1.re),t.b.push(a.z0.re*a.z1.re-a.z0.im*a.z1.im),t.a.push(-a.p0.re-a.p1.re),t.a.push(a.p0.re*a.p1.re-a.p0.im*a.p1.im),a.type==="lowpass"?t.k=(1+t.a[0]+t.a[1])/(1+t.b[1]+t.b[2]):t.k=(1-t.a[0]+t.a[1])/(1-t.b[1]+t.b[2]),t},lowpassMZ:function(a){var t=C();t.a0=1;var n=a.as,g=a.bs,l=2*Math.PI*a.Fc/a.Fs,i=-n/(2*g);return t.a.push(2*-Math.pow(Math.E,i*l)*Math.cos(-l*Math.sqrt(Math.abs(Math.pow(n,2)/(4*Math.pow(g,2))-1/g)))),t.a.push(Math.pow(Math.E,2*i*l)),a.preGain?(t.b.push(1),t.k=t.a0+t.a[0]+t.a[1]):(t.b.push(t.a0+t.a[0]+t.a[1]),t.k=1),t.b.push(0),t.b.push(0),t},lowpassBT:function(a){var t=C();return a.Q=1,t.wp=Math.tan(2*Math.PI*a.Fc/(2*a.Fs)),t.wp2=t.wp*t.wp,a.BW&&delete a.BW,t.k=1,t.a0=3*t.wp+3*t.wp2+1,t.b.push(3*t.wp2*a.Q/t.a0),t.b.push(2*t.b[0]),t.b.push(t.b[0]),t.a.push((6*t.wp2-2)/t.a0),t.a.push((3*t.wp2-3*t.wp+1)/t.a0),t},highpassBT:function(a){var t=C();return a.Q=1,t.wp=Math.tan(2*Math.PI*a.Fc/(2*a.Fs)),t.wp2=t.wp*t.wp,a.BW&&delete a.BW,t.k=1,t.a0=t.wp+t.wp2+3,t.b.push(3*a.Q/t.a0),t.b.push(2*t.b[0]),t.b.push(t.b[0]),t.a.push((2*t.wp2-6)/t.a0),t.a.push((t.wp2-t.wp+3)/t.a0),t},lowpass:function(a){var t=C();a.BW&&delete a.BW;var n=d(a,t);return a.preGain?(t.k=.5*(1-n.cw),t.b.push(1/n.a0)):(t.k=1,t.b.push((1-n.cw)/(2*n.a0))),t.b.push(2*t.b[0]),t.b.push(t.b[0]),t},highpass:function(a){var t=C();a.BW&&delete a.BW;var n=d(a,t);return a.preGain?(t.k=.5*(1+n.cw),t.b.push(1/n.a0)):(t.k=1,t.b.push((1+n.cw)/(2*n.a0))),t.b.push(-2*t.b[0]),t.b.push(t.b[0]),t},allpass:function(a){var t=C();a.BW&&delete a.BW;var n=d(a,t);return t.k=1,t.b.push((1-n.alpha)/n.a0),t.b.push(-2*n.cw/n.a0),t.b.push((1+n.alpha)/n.a0),t},bandpassQ:function(a){var t=C(),n=d(a,t);return t.k=1,t.b.push(n.alpha*a.Q/n.a0),t.b.push(0),t.b.push(-t.b[0]),t},bandpass:function(a){var t=C(),n=d(a,t);return t.k=1,t.b.push(n.alpha/n.a0),t.b.push(0),t.b.push(-t.b[0]),t},bandstop:function(a){var t=C(),n=d(a,t);return t.k=1,t.b.push(1/n.a0),t.b.push(-2*n.cw/n.a0),t.b.push(t.b[0]),t},peak:function(a){var t=C(),n=c(a);return t.k=1,t.a0=1+n.alpha/n.A,t.a.push(-2*n.cw/t.a0),t.a.push((1-n.alpha/n.A)/t.a0),t.b.push((1+n.alpha*n.A)/t.a0),t.b.push(-2*n.cw/t.a0),t.b.push((1-n.alpha*n.A)/t.a0),t},lowshelf:function(a){var t=C();a.BW&&delete a.BW;var n=c(a);t.k=1;var g=2*Math.sqrt(n.A)*n.alpha;return t.a0=n.A+1+(n.A-1)*n.cw+g,t.a.push(-2*(n.A-1+(n.A+1)*n.cw)/t.a0),t.a.push((n.A+1+(n.A-1)*n.cw-g)/t.a0),t.b.push(n.A*(n.A+1-(n.A-1)*n.cw+g)/t.a0),t.b.push(2*n.A*(n.A-1-(n.A+1)*n.cw)/t.a0),t.b.push(n.A*(n.A+1-(n.A-1)*n.cw-g)/t.a0),t},highshelf:function(a){var t=C();a.BW&&delete a.BW;var n=c(a);t.k=1;var g=2*Math.sqrt(n.A)*n.alpha;return t.a0=n.A+1-(n.A-1)*n.cw+g,t.a.push(2*(n.A-1-(n.A+1)*n.cw)/t.a0),t.a.push((n.A+1-(n.A-1)*n.cw-g)/t.a0),t.b.push(n.A*(n.A+1+(n.A-1)*n.cw+g)/t.a0),t.b.push(-2*n.A*(n.A-1+(n.A+1)*n.cw)/t.a0),t.b.push(n.A*(n.A+1+(n.A-1)*n.cw-g)/t.a0),t},aweighting:function(a){var t=C();t.k=1;var n=2*Math.PI*a.Fc/a.Fs,g=2*Math.tan(n/2),l=a.Q,i=Math.pow(g,2);return t.a0=4*l+i*l+2*g,t.a.push(2*i*l-8*l),t.a.push(4*l+i*l-2*g),t.b.push(i*l),t.b.push(2*i*l),t.b.push(i*l),t}}};o.exports=p},{}],7:[function(s,o,h){var p=s("./utils"),d=p.complex,c=p.runMultiFilter,C=p.runMultiFilterReverse,a=p.evaluatePhase,t=function(n){for(var g=n,l={re:1,im:0},i=[],I=[],B=0;B<g.length;B++){i[B]={};var u=g[B];i[B].b0={re:u.b[0],im:0},i[B].b1={re:u.b[1],im:0},i[B].b2={re:u.b[2],im:0},i[B].a1={re:u.a[0],im:0},i[B].a2={re:u.a[1],im:0},i[B].k={re:u.k,im:0},i[B].z=[0,0],I[B]={},I[B].b1=u.b[1]/u.b[0],I[B].b2=u.b[2]/u.b[0],I[B].a1=u.a[0],I[B].a2=u.a[1]}var R=function(w,k){var M=k*w.k.re-w.a1.re*w.z[0]-w.a2.re*w.z[1],D=w.b0.re*M+w.b1.re*w.z[0]+w.b2.re*w.z[1];return w.z[1]=w.z[0],w.z[0]=M,D},y=function(w,k){var M=w,D=0;for(D=0;D<k.length;D++)M=R(k[D],M);return M},b=function(w,k){var M=w.Fs,D=w.Fr,S=-Math.PI*(D/M)*2,K={re:Math.cos(S),im:Math.sin(S)},x=d.mul(k.k,d.add(k.b0,d.mul(K,d.add(k.b1,d.mul(k.b2,K))))),X=d.add(l,d.mul(K,d.add(k.a1,d.mul(k.a2,K)))),Z=d.div(x,X);return{magnitude:d.magnitude(Z),phase:d.phase(Z)}},Q=function(w){var k=0,M={magnitude:1,phase:0};for(k=0;k<i.length;k++){var D=b(w,i[k]);M.magnitude*=D.magnitude,M.phase+=D.phase}return M.dBmagnitude=20*Math.log(M.magnitude)*Math.LOG10E,M},E=function(){for(var w=[],k=0;k<g.length;k++)w[k]={b0:{re:u.b[0],im:0},b1:{re:u.b[1],im:0},b2:{re:u.b[2],im:0},a1:{re:u.a[0],im:0},a2:{re:u.a[1],im:0},k:{re:u.k,im:0},z:[0,0]};return w},m=function(w){var k=E();return c(w,k,y)},v=function(w,k){var M={},D=[],S=0;for(S=0;S<k;S++)D.push(w(S));M.out=m(D);var K=!1,x=!1;for(S=0;S<k-1;S++)if(M.out[S]>M.out[S+1]&&!K&&(K=!0,M.max={sample:S,value:M.out[S]}),K&&!x&&M.out[S]<M.out[S+1]){x=!0,M.min={sample:S,value:M.out[S]};break}return M},r=function(w,k){var M=Math.pow(w/2,2)-k;return M<0?[{re:-w/2,im:Math.sqrt(Math.abs(M))},{re:-w/2,im:-Math.sqrt(Math.abs(M))}]:[{re:-w/2+Math.sqrt(M),im:0},{re:-w/2-Math.sqrt(M),im:0}]},V=function(){for(var w=[],k=0;k<I.length;k++)w[k]={},w[k].z=r(I[k].b1,I[k].b2),w[k].p=r(I[k].a1,I[k].a2);return w};return{singleStep:function(w){return y(w,i)},multiStep:function(w,k){return c(w,i,y,k)},filtfilt:function(w,k){return C(c(w,i,y,k),i,y,!0)},simulate:function(w){return m(w)},stepResponse:function(w){return v(function(){return 1},w)},impulseResponse:function(w){return v(function(k){return k===0?1:0},w)},responsePoint:function(w){return Q(w)},response:function(w){w=w||100;var k=[],M=0,D=2*w;for(M=0;M<w;M++)k[M]=Q({Fs:D,Fr:M});return a(k),k},polesZeros:function(){return V()},reinit:function(){for(B=0;B<i.length;B++)i[B].z=[0,0]}}};o.exports=t},{"./utils":9}],8:[function(s,o,h){var p=function(d){var c,C=d,a=[],t=function(i){for(c=0;c<i.steps;c++)a.push(C.singleStep((Math.random()-.5)*i.pp+i.offset))},n=function(i){var I=i.offset+i.pp,B=i.offset-i.pp;for(c=0;c<i.steps;c++)c%200<100?a.push(C.singleStep(I)):a.push(C.singleStep(B))},g=function(i){var I=i.offset+i.pp,B=i.offset-i.pp;for(c=0;c<i.steps;c++)c%100==0?a.push(C.singleStep(I)):a.push(C.singleStep(B))},l=function(i){var I=i.offset+i.pp,B=i.offset-i.pp,u=B,R=(I-B)/100;for(c=0;c<i.steps;c++)c%200<100?u+=R:u-=R,a.push(C.singleStep(u))};return{randomStability:function(i){for(C.reinit(),a.length=0,t(i),c=i.setup;c<a.length;c++)if(a[c]>i.maxStable||a[c]<i.minStable)return a[c];return!0},directedRandomStability:function(i){C.reinit(),a.length=0;var I;for(I=0;I<i.tests;I++){var B=Math.random();B<.25?t(i):B<.5?n(i):B<.75?g(i):l(i)}for(t(i),c=i.setup;c<a.length;c++)if(a[c]>i.maxStable||a[c]<i.minStable)return a[c];return!0},evaluateBehavior:function(){}}};o.exports=p},{}],9:[function(s,o,h){h.evaluatePhase=function(a){var t=0,n=0,g=Math.PI,l=2*g,i=[];for(n=0;n<a.length;n++)i.push(a[n].phase);for(a[0].unwrappedPhase=a[0].phase,a[0].groupDelay=0,n=1;n<i.length;n++){var I=i[n]-i[n-1];if(I>g)for(t=n;t<i.length;t++)i[t]-=l;else if(I<-g)for(t=n;t<i.length;t++)i[t]+=l;i[n]<0?a[n].unwrappedPhase=-i[n]:a[n].unwrappedPhase=i[n],a[n].phaseDelay=a[n].unwrappedPhase/(n/a.length),a[n].groupDelay=(a[n].unwrappedPhase-a[n-1].unwrappedPhase)/(g/a.length),a[n].groupDelay<0&&(a[n].groupDelay=-a[n].groupDelay)}a[0].magnitude!==0?(a[0].phaseDelay=a[1].phaseDelay,a[0].groupDelay=a[1].groupDelay):(a[0].phaseDelay=a[2].phaseDelay,a[0].groupDelay=a[2].groupDelay,a[1].phaseDelay=a[2].phaseDelay,a[1].groupDelay=a[2].groupDelay)},h.runMultiFilter=function(a,t,n,g){var l=[];g&&(l=a);var i;for(i=0;i<a.length;i++)l[i]=n(a[i],t);return l},h.runMultiFilterReverse=function(a,t,n,g){var l=[];g&&(l=a);var i;for(i=a.length-1;i>=0;i--)l[i]=n(a[i],t);return l};var p=function(a,t){for(var n=!0;n;){var g=a,l=t;if(n=!1,l||(l=1),g!==Math.floor(g)||l!==Math.floor(l))return 1;if(g===0||g===1)return l;a=g-1,t=l*g,n=!0}};h.besselFactors=function(a){for(var t=[],n=0;n<a+1;n++){var g=p(2*a-n),l=Math.pow(2,a-n)*p(n)*p(a-n);t.unshift(Math.floor(g/l))}return t};var d=function(a,t){for(var n=0,g=0;g<t;g++){var l=1/Math.pow(2,g+1);a>l&&(a-=l,n+=l)}return n},c=function(a,t){return a&Math.pow(2,t)},C=function(a,t,n){var g=Math.abs(a),l=a-g;return{number:c(g,t).toString(),fraction:d(l,n).toString(),numberBits:t,fractionBits:n}};h.fixedPoint={convert:function(a,t,n){return C(a,t,n)},add:function(a,t){},sub:function(a,t){},mul:function(a,t){},div:function(a,t){}},h.complex={div:function(a,t){var n=a.re,g=a.im,l=t.re,i=t.im,I=l*l+i*i;return{re:(n*l+g*i)/I,im:(g*l-n*i)/I}},mul:function(a,t){var n=a.re,g=a.im,l=t.re,i=t.im;return{re:n*l-g*i,im:(n+g)*(l+i)-n*l-g*i}},add:function(a,t){return{re:a.re+t.re,im:a.im+t.im}},sub:function(a,t){return{re:a.re-t.re,im:a.im-t.im}},phase:function(a){return Math.atan2(a.im,a.re)},magnitude:function(a){return Math.sqrt(a.re*a.re+a.im*a.im)}}},{}]},{},[1])(1)})})(we);const N=60,tA=.95,aA=.995;class ke{constructor(e){F(this,"session");F(this,"iirFilter");F(this,"accelerometerDrift");F(this,"velocity");F(this,"position");F(this,"orientation");F(this,"motionStatus");F(this,"accelerometer");F(this,"orientationSensor");this.session=e;const o=new j.CalcCascades().lowpass({order:3,characteristic:"butterworth",Fs:N,Fc:5,gain:0,preGain:!1});this.iirFilter={x:new j.IirFilter(o),y:new j.IirFilter(o),z:new j.IirFilter(o)},this.accelerometerDrift=P(),this.velocity=P(),this.position=P(),this.orientation=W(),this.motionStatus={acceleration:{error:null},gyro:{error:null}}}readingHandler(){var o,h,p,d;const e=lA(((o=this.accelerometer)==null?void 0:o.x)??0,-(((h=this.accelerometer)==null?void 0:h.z)??0),((p=this.accelerometer)==null?void 0:p.y)??0,1),s=((d=this.orientationSensor)==null?void 0:d.quaternion)??[0,0,0,1];this.orientation=eA(s[0],s[1],s[2],s[3]),pe(e,e,this.orientation),e[0]=this.iirFilter.x.singleStep(e[0]),e[1]=this.iirFilter.y.singleStep(e[1]),e[2]=this.iirFilter.z.singleStep(e[2]),this.velocity[0]+=e[0]/N,this.velocity[1]+=e[1]/N,this.velocity[2]+=e[2]/N,this.position[0]+=this.velocity[0]/N*1e3,this.position[1]+=this.velocity[1]/N*1e3,this.position[2]+=this.velocity[2]/N*1e3,this.velocity[0]*=tA,this.velocity[1]*=tA,this.velocity[2]*=tA,this.position[0]*=aA,this.position[1]*=aA,this.position[2]*=aA,this.session.poser.readjustElements()}async init(){if(LinearAccelerationSensor&&RelativeOrientationSensor)try{this.accelerometer=new LinearAccelerationSensor({frequency:N,referenceFrame:"screen"}),this.accelerometer.addEventListener("error",e=>{var s;e.error.name==="NotAllowedError"?this.motionStatus.acceleration={error:e.error}:e.error.name==="NotReadableError"&&(this.motionStatus.acceleration={error:e.error}),(s=this.accelerometer)==null||s.stop(),this.session.updateStatus()}),this.orientationSensor=new RelativeOrientationSensor({frequency:N,referenceFrame:"screen"}),this.orientationSensor.addEventListener("error",e=>{var s;e.error.name==="NotAllowedError"?this.motionStatus.gyro={error:e.error}:e.error.name==="NotReadableError"&&(this.motionStatus.gyro={error:e.error}),(s=this.orientationSensor)==null||s.stop(),this.session.updateStatus()}),this.accelerometer.addEventListener("reading",()=>{this.readingHandler()}),this.run()}catch(e){e instanceof DOMException&&(e.name==="SecurityError"?this.motionStatus={acceleration:{error:"Permission denied"},gyro:{error:"Permission denied"}}:e.name==="ReferenceError"?this.motionStatus={acceleration:{error:"Sensor is not supported by the User Agent."},gyro:{error:"Sensor is not supported by the User Agent."}}:this.motionStatus={acceleration:{error:e},gyro:{error:e}})}else this.motionStatus={acceleration:{error:"NotSupported"},gyro:{error:"NotSupported"}}}run(){this.orientationSensor&&this.orientationSensor.start(),this.accelerometer&&this.accelerometer.start()}stop(){this.orientationSensor&&this.orientationSensor.stop(),this.accelerometer&&this.accelerometer.stop()}getOffsetMatrix(e){if(!this.motionStatus.acceleration.error&&!this.motionStatus.gyro.error&&this.orientation){const s=eA(e.orientation[0],-e.orientation[1],-e.orientation[2],e.orientation[3]),o=H();oA(o,s),sA(o,o,e.position);const h=eA(this.orientation[0],-this.orientation[1],-this.orientation[2],this.orientation[3]),p=H();oA(p,h),sA(p,p,this.position),oe(p,p);const d=H();return rA(d,p,o),d}else return H()}getCurrentTransform(){return{orientation:this.orientation,position:this.position}}}var hA=(A=>(A[A.CALIBRATION=0]="CALIBRATION",A[A.DETECTION=1]="DETECTION",A))(hA||{}),fA=(A=>(A[A.statusChanged=0]="statusChanged",A[A.motion=1]="motion",A))(fA||{});class be{constructor(e="default"){F(this,"initialized",!1);F(this,"workerInitialized",!1);F(this,"name");F(this,"state");F(this,"feed");F(this,"poser");F(this,"motion");F(this,"calibration");F(this,"detector");F(this,"eventCallback");F(this,"focusEventRegistration");F(this,"blurEventRegistration");F(this,"setup");F(this,"canvas");F(this,"context2d");F(this,"worker");this.initialized=!1,this.name=e,this.state=0,this.feed=new Ce(this),this.poser=new Qe(this),this.motion=new ke(this),this.calibration=new ie(this),this.detector=new re(this),this.focusEventRegistration=async()=>{await this.feed.run(),this.motion.run()},this.blurEventRegistration=()=>{this.feed.stop(),this.motion.stop()},this.setup={show:!0},this.calibration.loadCameraCalibration()}updateStatus(){const e={initialized:this.initialized,feed:this.feed.feedStatus,motion:this.motion.motionStatus,calibration:this.calibration.calibrationStatus,setup:this.setup};this.eventCallback&&this.eventCallback({name:0,status:e})}loadSetup(){const e=window.localStorage.getItem(`vuexr/${this.name}/setup`);return e?JSON.parse(e):{show:!0}}storeSetup(){window.localStorage.setItem(`vuexr/${this.name}/setup`,JSON.stringify(this.setup))}showSetup(e){this.setup.show=e,this.storeSetup(),this.updateStatus()}async init(e,s){this.setup=this.loadSetup(),this.canvas=e,this.context2d=this.canvas.getContext("2d",{willReadFrequently:!0}),this.eventCallback=s,this.initialized||(await Promise.all([this.feed.init(),this.motion.init(),this.initWorker()]),this.initialized=!0),this.eventCallback({name:0})}async initWorker(){return new Promise(e=>{this.worker=new Worker(new URL("/assets/worker-79d5c38e.js",self.location),{type:"module"}),this.worker.onmessage=s=>{s.data.operation===G.WORKER_READY?(this.initialized=!0,this.workerInitialized=!0,e()):s.data.operation===G.WORKER_FAILED?(this.workerInitialized=!0,e()):this.workerHandler(s)}})}workerHandler(e){e.data.operation===G.DETECT?this.detector.detectionFinished(e.data):e.data.operation===G.FIND_CHESSBOARD_CORNERS_CAPTURED?this.calibration.findChessBoardCornersCaptured():e.data.operation===G.FIND_CHESSBOARD_CORNERS_READY?this.calibration.findChessBoardCornersCaptureReady():e.data.operation===G.FIND_CHESSBOARD_CORNERS_NOT_READY?this.calibration.findChessBoardCornersCaptureNotReady():e.data.operation===G.CALIBRATE&&this.calibration.calibrationFinished(e.data)}async run(){await this.feed.run(),await this.motion.run(),window.addEventListener("focus",this.focusEventRegistration),window.addEventListener("blur",this.blurEventRegistration)}pause(){window.removeEventListener("focus",this.focusEventRegistration),window.removeEventListener("blur",this.blurEventRegistration),this.feed.stop(),this.motion.stop()}calibrate(){var e,s;this.calibration.calibrate({width:((e=this.canvas)==null?void 0:e.width)??0,height:((s=this.canvas)==null?void 0:s.height)??0}),this.state=1}resetCalibration(){this.calibration.resetCalibrationPoints(),this.calibration.resetCameraCalibration(),this.state=0}process(){this.initialized&&(this.state===0?this.calibration.findChessBoardCorners():this.state===1&&this.detector.detect())}}const Ee={class:"ar-view"},Me={key:0,class:"controls-container"},ye={key:1,class:"setup-container"},Fe={key:2,class:"loading-text"},De=f.defineComponent({__name:"ARView",props:{name:null},setup(A){const e=A,o=f.inject("vuexr").requestSession(e.name);f.provide("session",o);const h=f.reactive({status:{},trackedMarkers:[]}),p=f.ref(),d=f.ref(),c=Symbol();function C(){o.showSetup(!1)}function a(){o.showSetup(!0)}function t(l){l.name===fA.statusChanged&&l.status&&(h.status=l.status)}function n(){var u,R,y,b;const l=(((u=p.value)==null?void 0:u.width)??0)/(((R=p.value)==null?void 0:R.height)??0),i=((y=d.value)==null?void 0:y.clientWidth)??0,I=((b=d.value)==null?void 0:b.clientHeight)??0,B=i/I;if(l>=B){const Q=i,E=i/l;p.value&&(p.value.style.width=`${Q}px`,p.value.style.height=`${E}px`)}else{const Q=I*l,E=I;p.value&&(p.value.style.width=`${Q}px`,p.value.style.height=`${E}px`)}}const g=()=>{n()};return f.onMounted(async()=>{await o.init(p.value,l=>{t(l)}),o.poser.registerView(c,l=>{h.trackedMarkers=l}),await o.run(),await n(),window.addEventListener("resize",g)}),f.onUnmounted(()=>{window.removeEventListener("resize",g),o.poser.unregisterView(c),o.pause()}),(l,i)=>{var I,B,u,R;return f.openBlock(),f.createElementBlock("div",{class:"ar-view-wrapper",ref_key:"wrapper",ref:d},[f.createElementVNode("div",Ee,[f.createElementVNode("canvas",{class:"ar-canvas",ref_key:"canvas",ref:p},null,512),f.createElementVNode("div",{style:f.normalizeStyle({opacity:h.status.initialized&&((I=h.status.calibration)!=null&&I.calibrated)?1:0}),class:"elements",ref:"elements"},[f.renderSlot(l.$slots,"default",{trackedMarkers:h.trackedMarkers},void 0,!0)],4)]),f.createElementVNode("div",{onClick:a,class:"setup-button"},"⚙"),h.status.initialized&&((B=h.status.feed)!=null&&B.selected)&&!((u=h.status.calibration)!=null&&u.calibrated)?(f.openBlock(),f.createElementBlock("div",Me,[f.createVNode(ne,{session:f.unref(o),status:h.status},null,8,["session","status"])])):f.createCommentVNode("",!0),h.status.initialized?(f.openBlock(),f.createElementBlock("div",ye,[(R=h.status.setup)!=null&&R.show?(f.openBlock(),f.createBlock(qA,{key:0,session:f.unref(o),status:h.status,onClose:C},null,8,["session","status"])):f.createCommentVNode("",!0)])):(f.openBlock(),f.createElementBlock("div",Fe,"Loading…"))],512)}}}),Je="",Re=Y(De,[["__scopeId","data-v-e53aa743"]]),Ve={key:0},Se=f.defineComponent({__name:"ARElement",props:{id:null,timeout:{default:1e3},markerSize:{default:50}},setup(A){const e=A,s=f.reactive({show:!1,timeoutHandler:null,tracked:!1}),o=f.inject("session"),h=f.ref(null);return f.onMounted(()=>{o.poser.registerElement(e.id.toString(),h.value,e.markerSize,p=>{s.tracked=p??!1,p?(s.show=!0,s.timeoutHandler!=null&&(window.clearTimeout(s.timeoutHandler),s.timeoutHandler=null)):s.timeoutHandler=window.setTimeout(()=>{s.show=!1},e.timeout)})}),f.onUnmounted(()=>{o.poser.unregisterElement(e.id.toString())}),(p,d)=>(f.openBlock(),f.createElementBlock("div",{class:"element",ref_key:"element",ref:h},[f.createVNode(f.Transition,{name:"fade"},{default:f.withCtx(()=>[s.show?(f.openBlock(),f.createElementBlock("div",Ve,[f.renderSlot(p.$slots,"default",{tracked:s.tracked},void 0,!0)])):f.createCommentVNode("",!0)]),_:3})],512))}}),He="",Xe=Y(Se,[["__scopeId","data-v-ca5da758"]]),Ke="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAByYAAAUyCAIAAADEGwRQAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH2AkGFAQH++VSRAAAAAd0RVh0QXV0aG9yAKmuzEgAAAAMdEVYdERlc2NyaXB0aW9uABMJISMAAAAKdEVYdENvcHlyaWdodACsD8w6AAAADnRFWHRDcmVhdGlvbiB0aW1lADX3DwkAAAAJdEVYdFNvZnR3YXJlAF1w/zoAAAALdEVYdERpc2NsYWltZXIAt8C0jwAAAAh0RVh0V2FybmluZwDAG+aHAAAAB3RFWHRTb3VyY2UA9f+D6wAAAAh0RVh0Q29tbWVudAD2zJa/AAAABnRFWHRUaXRsZQCo7tInAAABAElEQVR4nOzcsZGDWBRFweXXmIQh5R+QFMbYsDGM6qyQ9nX7VD2Di3EMtvM8/wEAAAAAoLCuPgAAAAAA4P9DcgUAAAAAyEiuAAAAAAAZyRUAAAAAICO5AgAAAABkJFcAAAAAgIzkCgAAAACQkVwBAAAAADKSKwAAAABARnIFAAAAAMhIrgAAAAAAGckVAAAAACAjuQIAAAAAZCRXAAAAAICM5AoAAAAAkJFcAQAAAAAyPy88c7/fn89nfgqf7Ha7PR6Pq6/gfcx8GhsfyMynMfNpbHwgM5/GzKexcfgu23mef35m2/6LU/hwL7wqfC8zH8jGpzHzgcx8FBufycxHMfOBbBy+ocs1TAAAAQBJREFUiB8LAAAAAABkJFcAAAAAgIzkCgAAAACQkVwBAAAAADKSKwAAAABARnIFAAAAAMhIrgAAAAAAGckVAAAAACAjuQIAAAAAZCRXAAAAAICM5AoAAAAAkJFcAQAAAAAykisAAAAAQEZyBQAAAADISK4AAAAAABnJFQAAAAAgI7kCAAAAAGQkVwAAAACAjOQKAAAAAJCRXAEAAAAAMpIrAAAAAEBGcgUAAAAAyEiuAAAAAAAZyRUAAAAAICO5AgAAAABkJFcAAAAAgIzkCgAAAACQkVwBAAAAADKSKwAAAABARnIFAAAAAMhIrgAAAAAAGckVAAAAACAjuQIAAAAAZCRXAJf0XsMAAAEASURBVAAAAICM5AoAAAAAkJFcAQAAAAAykisAAAAAQEZyBQAAAADISK4AAAAAABnJFQAAAAAgI7kCAAAAAGQkVwAAAACAjOQKAAAAAJCRXAEAAAAAMpIrAAAAAEBGcgUAAAAAyEiuAAAAAAAZyRUAAAAAICO5AgAAAABkJFcAAAAAgIzkCgAAAACQkVwBAAAAADKSKwAAAABARnIFAAAAAMhIrgAAAAAAGckVAAAAACAjuQIAAAAAZCRXAAAAAICM5AoAAAAAkJFcAQAAAAAykisAAAAAQEZyBQAAAADISK4AAAAAABnJFQAAAAAgI7kCAAAAAGQkVwAAAACAjOQKAAAAAJATQl4pAAABAElEQVSRXAEAAAAAMpIrAAAAAEBGcgUAAAAAyEiuAAAAAAAZyRUAAAAAICO5AgAAAABkJFcAAAAAgIzkCgAAAACQkVwBAAAAADKSKwAAAABARnIFAAAAAMhIrgAAAAAAGckVAAAAACAjuQIAAAAAZCRXAAAAAICM5AoAAAAAkJFcAQAAAAAykisAAAAAQEZyBQAAAADISK4AAAAAABnJFQAAAAAgI7kCAAAAAGQkVwAAAACAjOQKAAAAAJCRXAEAAAAAMpIrAAAAAEBGcgUAAAAAyEiuAAAAAAAZyRUAAAAAICO5AgAAAABkJFcAAAAAgIzkCgAAAACQkVwBAAAAADKSKwAAZyIz5QAAAQBJREFUAABARnIFAAAAAMhIrgAAAAAAGckVAAAAACAjuQIAAAAAZCRXAAAAAICM5AoAAAAAkJFcAQAAAAAykisAAAAAQEZyBQAAAADISK4AAAAAABnJFQAAAAAgI7kCAAAAAGQkVwAAAACAjOQKAAAAAJCRXAEAAAAAMpIrAAAAAEBGcgUAAAAAyEiuAAAAAAAZyRUAAAAAICO5AgAAAABkJFcAAAAAgIzkCgAAAACQkVwBAAAAADKSKwAAAABARnIFAAAAAMhIrgAAAAAAGckVAAAAACAjuQIAAAAAZCRXAAAAAICM5AoAAAAAkJFcAQAAAAAykisAAAAAQEZyBQAAAADISJcJGVcAAAEASURBVK4AAAAAABnJFQAAAAAgI7kCAAAAAGQkVwAAAACAjOQKAAAAAJCRXAEAAAAAMpIrAAAAAEBGcgUAAAAAyEiuAAAAAAAZyRUAAAAAICO5AgAAAABkJFcAAAAAgIzkCgAAAACQkVwBAAAAADKSKwAAAABARnIFAAAAAMhIrgAAAAAAGckVAAAAACAjuQIAAAAAZCRXAAAAAICM5AoAAAAAkJFcAQAAAAAy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",Ue=["src"],ze=f.defineComponent({__name:"ARChessboard",setup(A){return(e,s)=>(f.openBlock(),f.createElementBlock("img",{alt:"Chessboard pattern for camera calibration",src:f.unref(Ke),style:{"max-width":"100%","max-height":"100%"}},null,8,Ue))}});class Oe{constructor(){F(this,"sessions");this.sessions={}}requestSession(e="default"){return this.sessions[e]||(this.sessions[e]=new be),this.sessions[e]}removeSession(e="default"){this.sessions[e].pause(),delete this.sessions[e]}async check(){return window.isSecureContext?navigator.mediaDevices&&ImageCapture?(await navigator.mediaDevices.enumerateDevices()).filter(s=>s.kind==="videoinput").length?{supported:!0,error:null}:{supported:!1,error:"No camera is connected."}:{supported:!1,error:"MediaDevices and/or ImageCapture API not supported."}:{supported:!1,error:"You are not in a secure connection. Is HTTPS enabled?"}}}const xe={install(A){A.component("ArView",Re),A.component("ArElement",Xe),A.component("ArChessboard",ze);const e=new Oe;A.config.globalProperties.$vuexr=e,A.provide("vuexr",e)}};U.VueXR=xe,Object.defineProperty(U,Symbol.toStringTag,{value:"Module"})});
